<html>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.js"></script>
	<head>
 		<title>Las Antipodas</title>
		<style>
			#map, #mapposicion{
				width:500px;
				height: 400px;
				text-align: center;
				margin: auto;
			}

			h3 {
				text-align: center;
				margin: auto;
			}		
 		</style>
 	</head>
	<body>	
		<h3>Posicion Actual</h3><br>
		<div id='mapposicion'></div>	
		<br><br>
		<h3>Posicion Antipodas</h3><br>
		<div id='map'></div>
		
		<script type="text/javascript" src='https://maps.googleapis.com/maps/api/js?key=AIzaSyDgfyDSP32lOqbNijdPZSle9B7IRuY2EYM' charset="utf-8">
			var x = document.getElementById("mapposicion");
			function initMapPos(){
				var mapDiv = document.getElementById("map");
				var map = new google.maps.Map(mapDiv, {
					center: {lat: -49.683333, lng: 178.8},
					zoom: 8
				});
				if (Modernizr.geolocation) {
					navigator.geolocation.getCurrentPosition(show_map);
				} else {
					x.innerHTML = "Geolocation is not supported by this browser."; 
				}
            }

            function show_map(position) {
				var mapDiv2 = document.getElementById("mapposicion");
				var mapposicion = new google.maps.Map(mapDiv2, {
					center: {lat: position.coords.latitude, lng: position.coords.longitude},
					zoom: 15
				});
			}
 		</script>
 		<script src = "https://maps.googleapis.com/maps/api/js?callback=initMapPos" async defer></script>
	</body>
</html>
